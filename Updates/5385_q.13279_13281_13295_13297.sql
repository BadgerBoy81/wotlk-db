-- q.13279 'Basic Chemistry' - H
-- q.13281 'Neutralizing the Plague' - H -- Daily
-- q.13295 'Basic Chemistry' - A
-- q.13297 'Neutralizing the Plague' - A -- Daily

-- missing objects added
DELETE FROM game_event_gameobject WHERE guid IN (521055,521056);
DELETE FROM gameobject_battleground WHERE guid IN (521055,521056);
DELETE FROM gameobject WHERE guid IN (521055,521056);
INSERT INTO gameobject (guid, id, map, spawnMask, position_x, position_y, position_z, orientation, rotation0, rotation1, rotation2, rotation3, spawntimesecsmin, spawntimesecsmax) VALUES
-- Mord'rethar Plague Cauldron 193580
(521055,193580,571,1,6776.6,1628.57,390.922,5.39315,0,0,0.430474,-0.902603,300,300),
(521056,193580,571,1,6777.51,1539.35,390.874,1.62316,0,0,0.725376,0.688353,300,300);
UPDATE gameobject SET position_z = 392.10962 WHERE guid = 515672;
-- missing creatures added 
DELETE FROM creature_addon WHERE guid IN (530009,530010);
DELETE FROM creature_movement WHERE id IN (530009,530010);
DELETE FROM game_event_creature WHERE guid IN (530009,530010);
DELETE FROM game_event_creature_data WHERE guid IN (530009,530010);
DELETE FROM creature_battleground WHERE guid IN (530009,530010);
DELETE FROM creature_linking WHERE guid IN (530009,530010);
DELETE FROM creature where guid IN (530009,530010);
INSERT INTO creature (guid, id, map, spawnMask, phaseMask, position_x, position_y, position_z, orientation, spawntimesecsmin, spawntimesecsmax, spawndist, MovementType) VALUES
-- Plague Cauldron Target 01 32427
(530009,32427,571,1,1,6752.5757,1583.6962,393.10962,4.276056,10,10,0,0),
-- Plague Cauldron Target 02 32442
(530010,32442,571,1,1,6777.5093,1539.3518,390.87347,1.623156,10,10,0,0);
UPDATE creature SET spawntimesecsmin = 10, spawntimesecsmax = 10 WHERE id = 31773;
-- spell target corrected
DELETE FROM spell_script_target WHERE entry IN (59655,61007,59871,61026);
INSERT INTO spell_script_target VALUES
(59655, 1, 31773, 0),
(59655, 1, 32427, 0),
(59655, 1, 32442, 0),
(61007, 1, 32427, 0),
(59871, 1, 31773, 0),
(61026, 1, 32442, 0);
UPDATE creature_template SET InhabitType = 4 WHERE entry IN (31773,32427,32442);
-- Summoned Plague Cauldron Bunny 31880
-- Summoned Plague Cauldron Bunny 01 32431
-- Summoned Plague Cauldron Bunny 02 32445
UPDATE creature_template SET MinLevel = 80, MaxLevel = 80, UnitFlags = 33554696, MovementType = 0 WHERE entry IN (31880,32431,32445);
-- Script
DELETE FROM dbscripts_on_spell WHERE id IN (59877,60059,61001,59874,61018);
INSERT INTO dbscripts_on_spell (id, delay, command, datalong, datalong2, datalong3, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
-- 59877
(59877,5100,10,31880,300000,0,0,0,2,0,0,0,0,6776.600097,1628.56994,390.921997,6.0373,'summon 31880'), -- s.59871 should be used (makes to many issues = PET)
(59877,5400,15,45797,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'source cast 45797'),
(59877,5500,0,0,0,0,0,0,0,32477,0,0,0,0,0,0,0,'source says -> Player'),
-- 61001
(61001,5100,10,32431,300000,0,0,0,2,0,0,0,0,6752.5757,1583.6962,393.10962,4.276056,'summon 32431'), -- s.61007 should be used (makes to many issues = PET)
(61001,5400,15,45797,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'source cast 45797'),
(61001,5500,0,0,0,0,0,0,0,32477,0,0,0,0,0,0,0,'source says -> Player'),
-- 61018
(61018,5100,10,32445,300000,0,0,0,2,0,0,0,0,6777.5093,1539.3518,390.87347,1.623156,'summon 32445'), -- s.61026 should be used (makes to many issues = PET)
(61018,5400,15,45797,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'source cast 45797'),
(61018,5500,0,0,0,0,0,0,0,32477,0,0,0,0,0,0,0,'source says -> Player');
DELETE FROM `dbscript_random_templates` WHERE `id` BETWEEN 20363 AND 20365;
INSERT INTO `dbscript_random_templates` (`id`, `type`, `target_id`, `chance`, `comments`) VALUES
-- 20363
(20363, 1, 20949, 20, 'Summoned Plague Cauldron Bunny 01 32431 - Random Script 1'),
(20363, 1, 20950, 35, 'Summoned Plague Cauldron Bunny 01 32431 - Random Script 2'),
(20363, 1, 20951, 10, 'Summoned Plague Cauldron Bunny 01 32431 - Random Script 3'),
(20363, 1, 20952, 35, 'Summoned Plague Cauldron Bunny 01 32431 - Random Script 4'),
-- 20364
(20364, 1, 20953, 20, 'Summoned Plague Cauldron Bunny 31880 - Random Script 1'),
(20364, 1, 20954, 35, 'Summoned Plague Cauldron Bunny 31880 - Random Script 2'),
(20364, 1, 20955, 10, 'Summoned Plague Cauldron Bunny 31880 - Random Script 3'),
(20364, 1, 20956, 35, 'Summoned Plague Cauldron Bunny 31880 - Random Script 4'),
-- 20365
(20365, 1, 20957, 20, 'Summoned Plague Cauldron Bunny 02 32445 - Random Script 1'),
(20365, 1, 20958, 35, 'Summoned Plague Cauldron Bunny 02 32445 - Random Script 2'),
(20365, 1, 20959, 10, 'Summoned Plague Cauldron Bunny 02 32445 - Random Script 3'),
(20365, 1, 20960, 35, 'Summoned Plague Cauldron Bunny 02 32445 - Random Script 4');
DELETE FROM dbscripts_on_relay WHERE id BETWEEN 20949 AND 20961;
INSERT INTO dbscripts_on_relay (id, delay, command, datalong, datalong2, datalong3, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
-- Summoned Plague Cauldron Bunny 01
-- 20949
(20949,1,10,32178,300000,0,0,0,0,0,0,0,88,6754.19,1585.15,396.029,0.90757,'summon 32178'),
(20949,2,10,32178,300000,0,0,0,0,0,0,0,102,6754.19,1585.15,396.029,5.3930,'summon 32178'),
-- 20950
(20950,1,10,32178,300000,0,0,0,0,0,0,0,103,6754.19,1585.15,396.029,6.17846,'summon 32178'),
(20950,2,10,32181,300000,0,0,0,0,0,0,0,0,6756.3447,1594.3248,389.11655,3.763,'summon 32181'),
(20950,3,10,32181,300000,0,0,0,0,0,0,0,0,6762.6177,1588.8864,389.11655,1.15072,'summon 32181'),
(20950,4,10,32181,300000,0,0,0,0,0,0,0,0,6763.069,1579.077,389.11655,2.302362,'summon 32181'),
(20950,5,10,32181,300000,0,0,0,0,0,0,0,0,6757.2427,1572.9735,389.11652,3.409158,'summon 32181'),
-- 20951
(20951,1,10,32176,300000,0,0,0,0,0,0,0,88,6754.19,1585.15,396.029,0.0349,'summon 32176'),
-- 20952
(20952,1 ,10,32181,300000,0,0,0,0,0,0,0,0,6755.68,1594.37,389.033,0.01535,'summon 32181'),
(20952,2 ,10,32181,300000,0,0,0,0,0,0,0,0,6762.54,1588.24,389.033,5.14401,'summon 32181'),
(20952,3 ,10,32181,300000,0,0,0,0,0,0,0,0,6762.12,1593.92,389.033,2.44616,'summon 32181'),
(20952,4 ,10,32181,300000,0,0,0,0,0,0,0,0,6760.06,1598.07,389.033,6.13361,'summon 32181'),
(20952,5 ,10,32181,300000,0,0,0,0,0,0,0,0,6764.99,1590.99,389.033,4.62958,'summon 32181'),
(20952,6 ,10,32181,300000,0,0,0,0,0,0,0,0,6761.04,1581.81,389.841,4.07195,'summon 32181'),
(20952,7 ,10,32181,300000,0,0,0,0,0,0,0,0,6764.57,1578.64,389.033,5.45817,'summon 32181'),
(20952,8 ,10,32181,300000,0,0,0,0,0,0,0,0,6759.09,1575.94,390.029,3.50253,'summon 32181'),
(20952,9 ,10,32181,300000,0,0,0,0,0,0,0,0,6754.62,1575.17,389.398,3.1334,'summon 32181'),
(20952,10,10,32181,300000,0,0,0,0,0,0,0,0,6761.78,1572.25,389.033,6.18859,'summon 32181'),
-- Summoned Plague Cauldron Bunny
-- 20953
(20953,1,10,32178,300000,0,0,0,0,0,0,0,104,6776.76,1629.1,393.452,0.90757,'summon 32178'),
(20953,2,10,32178,300000,0,0,0,0,0,0,0,105,6776.76,1629.1,393.452,5.3930,'summon 32178'),
-- 20954
(20954,1,10,32178,300000,0,0,0,0,0,0,0,106,6776.76,1629.1,393.452,6.17846,'summon 32178'),
(20954,2,10,32181,300000,0,0,0,0,0,0,0,0,6767.16,1625.11,389.033,4.56612,'summon 32181'),
(20954,3,10,32181,300000,0,0,0,0,0,0,0,0,6771.9,1619.46,389.033,5.64604,'summon 32181'),
(20954,4,10,32181,300000,0,0,0,0,0,0,0,0,6779.79,1618.75,389.033,0.23071,'summon 32181'),
(20954,5,10,32181,300000,0,0,0,0,0,0,0,0,6786.5,1626.67,389.033,1.08287,'summon 32181'),
-- 20955
(20955,1,10,32176,300000,0,0,0,0,0,0,0,102,6776.76,1629.1,393.452,4.71378,'summon 32176'),
-- 20956
(20956,1 ,10,32181,300000,0,0,0,0,0,0,0,0,6787.42,1623.26,389.033,4.81351,'summon 32181'),
(20956,2 ,10,32181,300000,0,0,0,0,0,0,0,0,6783.09,1621.25,389.033,3.64327,'summon 32181'),
(20956,3 ,10,32181,300000,0,0,0,0,0,0,0,0,6787.2,1616.91,389.033,4.89205 ,'summon 32181'),
(20956,4 ,10,32181,300000,0,0,0,0,0,0,0,0,6792.62,1626.12,389.033,1.3931 ,'summon 32181'),
(20956,5 ,10,32181,300000,0,0,0,0,0,0,0,0,6785.78,1618.87,389.033,3.20344,'summon 32181'),
(20956,6 ,10,32181,300000,0,0,0,0,0,0,0,0,6775.87,1617.61,389.033,3.27413,'summon 32181'),
(20956,7 ,10,32181,300000,0,0,0,0,0,0,0,0,6772.13,1614.4,389.033,3.41157 ,'summon 32181'),
(20956,8 ,10,32181,300000,0,0,0,0,0,0,0,0,6764.81,1614.31,389.033,2.8343 ,'summon 32181'),
(20956,9 ,10,32181,300000,0,0,0,0,0,0,0,0,6768.23,1619.56,389.033,1.37346,'summon 32181'),
(20956,10,10,32181,300000,0,0,0,0,0,0,0,0,6770.73,1623.67,389.033,0.12468,'summon 32181'),
-- Summoned Plague Cauldron Bunny 02
-- 20957
(20957,1,10,32178,300000,0,0,0,0,0,0,0,107,6777.55,1538.91,393.448,1.57463,'summon 32178'),
(20957,2,10,32178,300000,0,0,0,0,0,0,0,108,6777.55,1538.91,393.448,1.57463,'summon 32178'),
-- 20958
(20958,1,10,32178,300000,0,0,0,0,0,0,0,109,6777.55,1538.91,393.448,1.57463,'summon 32178'),
(20958,2,10,32181,300000,0,0,0,0,0,0,0,0,6768.21,1538.96,389.033,1.42932,'summon 32181'),
(20958,3,10,32181,300000,0,0,0,0,0,0,0,0,6771.33,1546.97,389.033,0.64391,'summon 32181'),
(20958,4,10,32181,300000,0,0,0,0,0,0,0,0,6780.22,1548.97,389.033,5.50554,'summon 32181'),
(20958,5,10,32181,300000,0,0,0,0,0,0,0,0,6787.17,1544.01,389.033,5.21887,'summon 32181'),
-- 20959
(20959,1,10,32176,300000,0,0,0,0,0,0,0,103,6777.55,1538.91,393.448,1.57463,'summon 32176'),
-- 20960
(20960,1 ,10,32181,300000,0,0,0,0,0,0,0,0,6766.41,1544.01,389.033,1.30052,'summon 32181'),
(20960,2 ,10,32181,300000,0,0,0,0,0,0,0,0,6768.88,1549.87,389.033,1.0806 ,'summon 32181'),
(20960,3 ,10,32181,300000,0,0,0,0,0,0,0,0,6771.67,1543.95,389.033,5.86368,'summon 32181'),
(20960,4 ,10,32181,300000,0,0,0,0,0,0,0,0,6774.37,1549.73,389.033,0.78608,'summon 32181'),
(20960,5 ,10,32181,300000,0,0,0,0,0,0,0,0,6777.16,1545.79,389.033,4.65025,'summon 32181'),
(20960,6 ,10,32181,300000,0,0,0,0,0,0,0,0,6781.98,1544.91,389.033,6.00505,'summon 32181'),
(20960,7 ,10,32181,300000,0,0,0,0,0,0,0,0,6781.53,1551.92,389.033,1.65473,'summon 32181'),
(20960,8 ,10,32181,300000,0,0,0,0,0,0,0,0,6786.07,1549.68,389.033,5.60529,'summon 32181'),
(20960,9 ,10,32181,300000,0,0,0,0,0,0,0,0,6784.97,1543.16,389.033,4.9809 ,'summon 32181'),
(20960,10,10,32181,300000,0,0,0,0,0,0,0,0,6786.52,1552.13,389.033,3.37083,'summon 32181'),
-- 20961 -- Players (group) check for distance and death
(20961,1,34,20193,0,0,0,0,2|0x08,0,0,0,0,0,0,0,0,'allow if: All Players in Group are Dead OR NOT Within 40y of Source'),
(20961,100,35,5,100,0,0,0,2,0,0,0,0,0,0,0,0,'Send event 5'),
(20961,150,0,0,0,0,0,0,2,32487,0,0,0,0,0,0,0,'say'),
(20961,200,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,'despawn');
-- Plague Drenched Ghoul 32176
UPDATE creature_template SET MinLevel = 81, MaxLevel = 81, Faction = 21, UnitFlags = 33024, MovementType = 0 WHERE entry = 32176;
DELETE FROM creature_movement_template WHERE entry = 32176;
INSERT INTO creature_movement_template (Entry, PathId ,Point, PositionX, PositionY, PositionZ, Orientation, WaitTime, ScriptId) VALUES
-- path 1
(32176,1,1,6754.19,1585.15,396.029,0.0349,4000,0),
(32176,1,2,6754.19,1585.15,396.029,0.0349,100,3217601),
(32176,1,3,6777.47,1583.8,389.033,100,100,3217801), -- remove uniflags script from other creature
(32176,1,4,6777.47,1583.8,389.033,100,1000,3),
-- path 2
(32176,2,1,6776.76,1629.1,393.452,4.71378,4000,0),
(32176,2,2,6776.76,1629.1,393.452,4.71378,100,3217602),
(32176,2,3,6776.82,1611.31,389.033,100,100,3217801), -- remove uniflags script from other creature
(32176,2,4,6776.82,1611.31,389.033,100,1000,3),
-- path 3
(32176,3,1,6777.55,1538.91,393.448,1.57463,4000,0),
(32176,3,2,6777.55,1538.91,393.448,1.57463,100,3217603),
(32176,3,3,6777.76,1556.8,389.033,100,100,3217801), -- remove uniflags script from other creature
(32176,3,4,6777.76,1556.8,389.033,100,1000,3);
DELETE FROM dbscripts_on_creature_movement WHERE id BETWEEN 3217601 AND 3217603;
INSERT INTO dbscripts_on_creature_movement (id,delay,priority,command,datalong,datalong2,datalong3,buddy_entry,search_radius,data_flags,dataint,dataint2,dataint3,dataint4,datafloat,x,y,z,o,speed,condition_id,comments) VALUES
(3217601,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6777.47,1583.8,389.033,100,24,0,'jump'),
(3217602,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6776.82,1611.31,389.033,100,24,0,'jump'),
(3217603,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6777.76,1556.8,389.033,100,24,0,'jump');
-- Living Plague 32181
UPDATE creature_template SET MinLevel = 80, MaxLevel = 80, Faction = 21, UnitFlags = 32768, MovementType = 1 WHERE entry = 32181;
-- Rampaging Ghoul 32178
UPDATE creature_template SET MinLevel = 81, MaxLevel = 81, Faction = 21, UnitFlags = 33024, MovementType = 0 WHERE entry = 32178;
DELETE FROM creature_movement_template WHERE entry = 32178;
INSERT INTO creature_movement_template (Entry, PathId ,Point, PositionX, PositionY, PositionZ, Orientation, WaitTime, ScriptId) VALUES
-- path 1
(32178,1,1,6754.19,1585.15,396.029,0.90757,4000,0),
(32178,1,2,6754.19,1585.15,396.029,0.90757,100,3217802),
(32178,1,3,6761.96,1600.88,389.033,100,100,3217801),
(32178,1,4,6761.96,1600.88,389.033,100,1000,3),
-- path 2
(32178,2,1,6754.19,1585.15,396.029,5.3930,4000,0),
(32178,2,2,6754.19,1585.15,396.029,5.3930,100,3217803),
(32178,2,3,6763.36,1567.51,389.033,100,100,3217801),
(32178,2,4,6763.36,1567.51,389.033,100,1000,3),
-- path 3
(32178,3,1,6754.19,1585.15,396.029,6.17846,4000,0),
(32178,3,2,6754.19,1585.15,396.029,6.17846,100,3217804),
(32178,3,3,6773.3,1583.22,389.033,100,100,3217801),
(32178,3,4,6773.3,1583.22,389.033,100,1000,3),
-- path 4
(32178,4,1,6776.76,1629.1,393.452,4.71378,4000,0),
(32178,4,2,6776.76,1629.1,393.452,4.71378,100,3217805),
(32178,4,3,6763.64,1619.05,389.033,100,100,3217801),
(32178,4,4,6763.64,1619.05,389.033,100,1000,3),
-- path 5
(32178,5,1,6776.76,1629.1,393.452,4.71378,4000,0),
(32178,5,2,6776.76,1629.1,393.452,4.71378,100,3217806),
(32178,5,3,6791.03,1620.25,389.033,100,100,3217801),
(32178,5,4,6791.03,1620.25,389.033,100,1000,3),
-- path 6
(32178,6,1,6776.76,1629.1,393.452,4.71378,4000,0),
(32178,6,2,6776.76,1629.1,393.452,4.71378,100,3217807),
(32178,6,3,6776.51,1613.84,389.033,100,100,3217801),
(32178,6,4,6776.51,1613.84,389.033,100,1000,3),
-- path 7
(32178,7,1,6777.55,1538.91,393.448,1.57463,4000,0),
(32178,7,2,6777.55,1538.91,393.448,1.57463,100,3217808),
(32178,7,3,6790.39,1544.88,389.033,100,100,3217801),
(32178,7,4,6790.39,1544.88,389.033,100,1000,3),
-- path 8
(32178,8,1,6777.55,1538.91,393.448,1.57463,4000,0),
(32178,8,2,6777.55,1538.91,393.448,1.57463,100,3217809),
(32178,8,3,6763.34,1545.55,389.033,100,100,3217801),
(32178,8,4,6763.34,1545.55,389.033,100,1000,3),
-- path 9
(32178,9,1,6777.55,1538.91,393.448,1.57463,4000,0),
(32178,9,2,6777.55,1538.91,393.448,1.57463,100,3217810),
(32178,9,3,6777.89,1554.65,389.033,100,100,3217801),
(32178,9,4,6777.89,1554.65,389.033,100,1000,3);
DELETE FROM dbscripts_on_creature_movement WHERE id BETWEEN 3217801 AND 3217810;
INSERT INTO dbscripts_on_creature_movement (id,delay,priority,command,datalong,datalong2,datalong3,buddy_entry,search_radius,data_flags,dataint,dataint2,dataint3,dataint4,datafloat,x,y,z,o,speed,condition_id,comments) VALUES
(3217801,0,0,48,256,0,0,0,0,0x04,0,0,0,0,0,0,0,0,0,0,0,'remove unitflags'),
(3217802,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6761.96,1600.88,389.033,100,24,0,'jump'),
(3217803,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6763.36,1567.51,389.033,100,24,0,'jump'),
(3217804,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6773.3,1583.22,389.033,100,24,0,'jump'),
(3217805,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6763.64,1619.05,389.033,100,24,0,'jump'),
(3217806,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6791.03,1620.25,389.033,100,24,0,'jump'),
(3217807,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6776.51,1613.84,389.033,100,24,0,'jump'),
(3217808,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6790.39,1544.88,389.033,100,24,0,'jump'),
(3217809,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6763.34,1545.55,389.033,100,24,0,'jump'),
(3217810,0,0,20,15,0,0,0,0,0x04,0,0,0,0,5,6777.89,1554.65,389.033,100,24,0,'jump');
UPDATE `broadcast_text` SET `ChatTypeID`='3' WHERE `Id` IN (32477,32478,32479,32483,32484,32486,32487,32488);
